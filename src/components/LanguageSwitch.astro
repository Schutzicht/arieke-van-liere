---
const { pathname } = Astro.url;
const currentLang = pathname.startsWith('/en') ? 'en' : 'nl';

// Logic to switch language while keeping path (if possible)
// Since we are just starting, we might safe-fallback to home if strictly needed, 
// but standard behavior is to try to switch path.
function getSwitchUrl(targetLang: 'nl' | 'en') {
    if (targetLang === 'nl') {
        return pathname.replace(/^\/en/, '') || '/';
    } else {
        return `/en${pathname === '/' ? '' : pathname}`;
    }
}
---

<div class="flex items-center gap-1 bg-gray-100 rounded-full p-1" id="lang-switch">
    <a 
        href={getSwitchUrl('nl')} 
        class={`px-3 py-1 rounded-full text-xs font-bold transition-all ${currentLang === 'nl' ? 'bg-white shadow-sm text-gray-900' : 'text-gray-500 hover:text-gray-900'}`}
    >
        NL
    </a>
    <a 
        href={getSwitchUrl('en')} 
        class={`px-3 py-1 rounded-full text-xs font-bold transition-all ${currentLang === 'en' ? 'bg-white shadow-sm text-gray-900' : 'text-gray-500 hover:text-gray-900'}`}
    >
        EN
    </a>
</div>
